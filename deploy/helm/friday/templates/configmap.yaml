apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "friday.fullname" . }}-config
  labels:
    {{- include "friday.labels" . | nindent 4 }}
data:
  FRIDAY_APP_NAME: {{ .Values.config.appName | quote }}
  FRIDAY_DASHBOARD_AUTH_ENABLED: {{ .Values.config.dashboardAuthEnabled | quote }}
  FRIDAY_DB_PATH: {{ .Values.config.dbPath | quote }}
  FRIDAY_VOICE_INPUT_DIR: {{ .Values.config.voiceInputDir | quote }}
  FRIDAY_VOICE_OUTPUT_DIR: {{ .Values.config.voiceOutputDir | quote }}
  FRIDAY_WORKSPACE_ROOT: {{ .Values.config.workspaceRoot | quote }}
  FRIDAY_AUTO_EXECUTE_LOW_RISK: {{ .Values.config.autoExecuteLowRisk | quote }}
  FRIDAY_REMINDER_POLL_INTERVAL_SEC: {{ .Values.config.reminderPollIntervalSec | quote }}
  FRIDAY_OLLAMA_BASE_URL: {{ .Values.config.ollamaBaseUrl | quote }}
  FRIDAY_OLLAMA_MODEL: {{ .Values.config.ollamaModel | quote }}
  FRIDAY_ENGINE_REQUIRE_WAKE_WORD: {{ .Values.config.engineRequireWakeWord | quote }}
  FRIDAY_ENGINE_QUEUE_MAX_SIZE: {{ .Values.config.engineQueueMaxSize | quote }}
  FRIDAY_ENGINE_LOG_LEVEL: {{ .Values.config.engineLogLevel | quote }}
  FRIDAY_ENGINE_STT_EMIT_PARTIALS: {{ .Values.config.engineSttEmitPartials | quote }}
  FRIDAY_ENGINE_STT_MIN_PARTIAL_CHARS: {{ .Values.config.engineSttMinPartialChars | quote }}
  FRIDAY_ENGINE_CLOUD_LLM_ENABLED: {{ .Values.config.engineCloudLlmEnabled | quote }}
  FRIDAY_ENGINE_CLOUD_LLM_MODEL: {{ .Values.config.engineCloudLlmModel | quote }}
  FRIDAY_ENGINE_CLOUD_TIMEOUT_SEC: {{ .Values.config.engineCloudTimeoutSec | quote }}
  FRIDAY_ENGINE_TTS_OUTPUT_DIR: {{ .Values.config.engineTtsOutputDir | quote }}
  FRIDAY_ENGINE_PRINT_EVENTS: {{ .Values.config.enginePrintEvents | quote }}
  FRIDAY_API_UPSTREAM: {{ printf "http://%s-api:%d" (include "friday.fullname" .) (.Values.api.service.port | int) | quote }}
